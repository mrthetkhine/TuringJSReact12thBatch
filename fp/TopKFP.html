
<html>
   <script src="https://cdnjs.cloudflare.com/ajax/libs/ramda/0.30.1/ramda.js"></script>
    <script>
        let nums = [1,1,2,2,3,2,3,4,3,3];
        let k = 2;

        /*
        frequency = {
            1: 2,
            2: 3,
            3:4,
            4:1
        }
        */
       function getFrequency(arr)
       {
            let frequency = {};
            for(const item of nums)
            {
                    if(frequency[item])
                    {
                        frequency[item]++;
                    }
                    else
                    {
                        frequency[item] = 1;
                    }
            }
            return frequency;
       }
       function toArray(frequency)
       {
            return Object.entries(frequency);
       }
       function sort(arr)
       {
            return arr.sort((a,b)=>{
            return b[1] - a[1];
            });
       }
       function extract(arr)
       {
            let arr2 = arr.map(a=>a[0]);
            return arr2;
       }
       /*
       let frequency = getFrequency(nums);
       console.log('Frequency ',frequency);
       let arr = toArray(frequency);
       console.log('Arr ',arr);
       let arr2 = sort(arr);
       console.log('Arr2 ',arr2);
       let arr3 = extract(arr2);
       console.log('Arr3 ',arr3);
       let result = arr3.slice(0,k);
       console.log('Result ',result);
       */ 
      let topK = R.pipe(getFrequency,
                        toArray,
                        sort,
                        extract,
                        arr=>arr.slice(0,k)
      );
      let result = topK(nums);
      console.log('Result ',result);
    </script>    
</html>    